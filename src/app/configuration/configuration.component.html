<div class="px-5 max-w-3xl mx-auto font-sans" [formGroup]="configForm">
  <header class="text-center mb-8 pb-5 border-b-2 border-gray-200">
    <h2 class="text-2xl font-semibold text-gray-800 mb-2">ðŸ”§ ConfiguraciÃ³n CAFIP</h2>
    <p class="text-sm text-gray-600">Gestiona la configuraciÃ³n del sistema</p>
  </header>

  @if (configForm.controls) {
    <div class="space-y-5">

      <!-- ConfiguraciÃ³n General -->
      <section class="bg-gray-50 rounded-lg p-5 border-l-4 border-blue-600">
        <h3 class="text-lg font-medium text-gray-800 mb-4">ðŸ“‹ ConfiguraciÃ³n General</h3>

        <div class="mb-4">
          <label for="appName" class="block mb-1 font-medium text-gray-700">Nombre de la AplicaciÃ³n</label>
          <input id="appName" type="text" formControlName="appName"
            class="w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-200">
        </div>

        <div class="mb-4">
          <label for="apiUrl" class="block mb-1 font-medium text-gray-700">URL de la API</label>
          <input id="apiUrl" type="text" formControlName="apiUrl"
            class="w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-200">
        </div>

        <div class="mb-2">
          <label for="version" class="block mb-1 font-medium text-gray-700">VersiÃ³n</label>
          <input id="version" type="text" formControlName="version"
            class="w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-200">
        </div>
      </section>

      <!-- CaracterÃ­sticas -->
      <section class="bg-gray-50 rounded-lg p-5 border-l-4 border-blue-600" formGroupName="features">
        <h3 class="text-lg font-medium text-gray-800 mb-4">âœ¨ CaracterÃ­sticas</h3>
        <div class="space-y-2">
          <label class="flex items-center gap-2 cursor-pointer">
            <input type="checkbox" formControlName="darkMode" class="h-4 w-4">
            <span>ðŸŒ™ Modo Oscuro</span>
          </label>
          <label class="flex items-center gap-2 cursor-pointer">
            <input type="checkbox" formControlName="notifications" class="h-4 w-4">
            <span>ðŸ”” Notificaciones</span>
          </label>
          <label class="flex items-center gap-2 cursor-pointer">
            <input type="checkbox" formControlName="analytics" class="h-4 w-4">
            <span>ðŸ“Š Analytics</span>
          </label>
        </div>
      </section>

      <!-- Tema -->
      <section class="bg-gray-50 rounded-lg p-5 border-l-4 border-blue-600" formGroupName="theme">
        <h3 class="text-lg font-medium text-gray-800 mb-4">ðŸŽ¨ Tema</h3>
        <div class="mb-4">
          <label for="primaryColor" class="block mb-1 font-medium text-gray-700">Color Primario</label>
          <input id="primaryColor" type="color" formControlName="primaryColor"
            class="w-16 h-10 p-1 border border-gray-300 rounded cursor-pointer">
        </div>
        <div class="mb-4">
          <label for="secondaryColor" class="block mb-1 font-medium text-gray-700">Color Secundario</label>
          <input id="secondaryColor" type="color" formControlName="secondaryColor"
            class="w-16 h-10 p-1 border border-gray-300 rounded cursor-pointer">
        </div>
        <div class="mb-2">
          <label for="fontFamily" class="block mb-1 font-medium text-gray-700">Familia de Fuente</label>
          <select id="fontFamily" formControlName="fontFamily"
            class="w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-200">
            <option value="Roboto, sans-serif">Roboto</option>
            <option value="Arial, sans-serif">Arial</option>
            <option value="Helvetica, sans-serif">Helvetica</option>
            <option value="'Times New Roman', serif">Times New Roman</option>
          </select>
        </div>
      </section>

      <!-- Botones -->
      <section class="flex gap-3 justify-center my-8">
        <button class="px-4 py-2 rounded bg-gray-600 text-white hover:bg-gray-700 transition"
          (click)="resetToDefault()">ðŸ”„ Restablecer por Defecto</button>
        <button class="px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 transition"
          (click)="exportConfiguration()">ðŸ’¾ Exportar ConfiguraciÃ³n</button>
      </section>
    </div>
  }

  <!-- Vista previa -->
  <section class="bg-slate-800 rounded-lg p-5 mt-5">
    <h3 class="text-slate-200 mb-4">ðŸ“„ Vista Previa JSON</h3>
    <pre class="text-green-400 text-xs leading-6 overflow-x-auto whitespace-pre-wrap m-0">{{ getConfigJson() }}</pre>
  </section>
</div>
